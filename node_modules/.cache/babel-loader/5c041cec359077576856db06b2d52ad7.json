{"ast":null,"code":"import _slicedToArray from\"D:/UI-Workspace/google-map-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from\"react\";import{Link}from\"react-router-dom\";import UserServices from\"../../services/UserServices\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SitterList=function SitterList(){var effectRan=useRef(false);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];useEffect(function(){if(effectRan.current===false){retrieveUser();return function(){effectRan.current=true;};}},[]);var retrieveUser=function retrieveUser(e){setLoading(true);UserServices.getAll().then(function(response){setUser(response.data);setLoading(false);setMessage(\"\");console.log(response.data);}).catch(function(e){console.log(e);setLoading(false);setMessage(\"Something went wrong!\");});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-center\",children:\"Sitter Records\"}),loading&&/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border\",style:{position:\"fixed\",zIndex:\"1031\",top:\"50%\",left:\"50%\",transform:\"initial\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered table-hover table-sm\",id:\"myTable\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-primary\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"S No.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Logo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Company Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Open Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Charges\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users&&users.length>0&&users.map(function(user,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:user.logo,alt:\"\",style:{height:\"40px\",width:\"40px\"}})}),/*#__PURE__*/_jsx(\"td\",{children:user.company}),/*#__PURE__*/_jsx(\"td\",{children:user.contactname}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsxs(\"td\",{children:[user.address.substring(0,30),\" ...\",\" \",\" \",user.address.substr(user.address.length-20)]}),/*#__PURE__*/_jsx(\"td\",{children:user.open}),/*#__PURE__*/_jsx(\"td\",{children:user.chargesperhour}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/editsitter/\"+user.id,className:\"btn btn-warning\",children:\"Edit\"})})]},user.id);})})]})}),message&&/*#__PURE__*/_jsx(\"span\",{className:\"alert alert-danger \",role:\"alert\",style:{position:\"fixed\",zIndex:\"1031\",left:\"45%\",transform:\"initial\"},children:message})]});};export default SitterList;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","UserServices","SitterList","effectRan","users","setUser","loading","setLoading","message","setMessage","current","retrieveUser","e","getAll","then","response","data","console","log","catch","position","zIndex","top","left","transform","length","map","user","index","logo","height","width","company","contactname","email","address","substring","substr","open","chargesperhour","id"],"sources":["D:/UI-Workspace/google-map-react-app/src/components/pages/SitterList.jsx"],"sourcesContent":["import React, {useState, useEffect, useRef} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport UserServices from \"../../services/UserServices\";\r\n\r\nconst  SitterList = () => {\r\n    const effectRan = useRef(false);\r\n    const [users, setUser] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n      if(effectRan.current === false){\r\n        retrieveUser(); \r\n        return () => {\r\n          effectRan.current = true;\r\n        }\r\n      }       \r\n    }, []);\r\n\r\n    const retrieveUser = (e) =>{\r\n      setLoading(true);\r\n        UserServices.getAll()\r\n        .then(response => {\r\n            setUser(response.data);\r\n            setLoading(false);\r\n            setMessage(\"\")\r\n            console.log(response.data);\r\n        })\r\n        .catch( e => {\r\n            console.log(e);\r\n            setLoading(false);\r\n            setMessage(\"Something went wrong!\");\r\n        });\r\n    };\r\n    return (\r\n        <>\r\n        <h4 className=\"text-center\">Sitter Records</h4>\t\r\n        {loading && (\r\n        <span className=\"spinner-border\" style={{ position: \"fixed\", zIndex:\"1031\", top:\"50%\", left: \"50%\", transform: \"initial\" }}></span>\r\n        )}\r\n        <div className=\"table-responsive\">\r\n       <table className=\"table table-striped table-bordered table-hover table-sm\" id=\"myTable\"> \r\n          <thead className=\"table-primary\">\r\n            <tr>\r\n              <th>S No.</th>\r\n              <th>Logo</th>\r\n              <th>Company Name</th>\r\n              <th>Name</th>\r\n              <th>Email</th>\r\n              <th>Address</th>\r\n              <th>Open Time</th>\r\n              <th>Charges</th>\r\n              <th>Action</th>\r\n            </tr>\r\n          </thead>  \r\n          <tbody>    \r\n             {users && users.length > 0 && users.map((user, index) => (\r\n                <tr key={user.id}>\r\n                <td>{index + 1}</td>\r\n                <td><img src={user.logo} alt=\"\" style={{height:\"40px\", width: \"40px\"}} /></td>\r\n                <td>{user.company}</td>\r\n                <td>{user.contactname}</td>\r\n                <td>{user.email}</td>\r\n                <td>{user.address.substring(0, 30)} ...{\" \"} {user.address.substr(user.address.length - 20)}</td>\r\n                <td>{user.open}</td>\r\n                <td>{user.chargesperhour}</td>\r\n                <td>\r\n                <Link\r\n                to={\"/editsitter/\" + user.id}\r\n                className=\"btn btn-warning\"\r\n                >\r\n                Edit\r\n              </Link>\r\n                </td>       \r\n                </tr>\r\n             ))}    \r\n          </tbody>\r\n        </table>\r\n        </div>\r\n        {message && (    \r\n              <span className=\"alert alert-danger \" role=\"alert\" style={{ position: \"fixed\", zIndex:\"1031\", left: \"45%\", transform: \"initial\" }}>\r\n                {message}\r\n              </span>\r\n          )}   \r\n      </>\r\n    );\r\n}\r\nexport default SitterList;\r\n\r\n\r\n    "],"mappings":"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"},"metadata":{},"sourceType":"module"}