{"ast":null,"code":"import _objectSpread from\"D:/UI-Workspace/google-map-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/UI-Workspace/google-map-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useForm}from'react-hook-form';import{yupResolver}from'@hookform/resolvers/yup';import*as Yup from'yup';import AuthService from'../../services/auth.service';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ForgetPassword(){var _errors$email;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),successful=_useState6[0],setSuccessful=_useState6[1];var validationSchema=Yup.object().shape({email:Yup.string().required('Email is required').email('Email is invalid')});var _useForm=useForm({resolver:yupResolver(validationSchema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var handleForgetPassword=function handleForgetPassword(data){setMessage(\"\");setLoading(true);AuthService.fogetPassword(data.email).then(function(response){console.log(JSON.stringify(data,null,2));setMessage(\"We have sent a reset password link to your email. Please check.\");setSuccessful(true);setLoading(false);console.log(response.data);},function(error){var resMessage=error.response&&error.response.data&&error.response.data.message||error.message||error.toString();setMessage(resMessage);setSuccessful(false);setLoading(false);});};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{width:'40rem'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header alert-danger text-center h3\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Forgot Password\"})}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(handleForgetPassword),children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"col-form-label font-weight-bold\",children:\"Email address: \"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"email\",name:\"email\",id:\"email\",\"aria-describedby\":\"email\",placeholder:\"Enter your email address\",autoFocus:true},register('email')),{},{className:\"form-control \".concat(errors.email?'is-invalid':'')})),/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:(_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message}),/*#__PURE__*/_jsx(\"small\",{id:\"emailHelp\",className:\"form-text text-muted\",children:\"We will be sending a reset password link to your email.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary btn-block\",disabled:loading,children:[loading&&/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Send\"})]})}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"div\",{className:successful?\"alert alert-success\":\"alert alert-danger\",role:\"alert\",children:message})})]})})]})});}export default ForgetPassword;","map":{"version":3,"names":["React","useState","useForm","yupResolver","Yup","AuthService","ForgetPassword","loading","setLoading","message","setMessage","successful","setSuccessful","validationSchema","object","shape","email","string","required","resolver","register","handleSubmit","errors","formState","handleForgetPassword","data","fogetPassword","then","response","console","log","JSON","stringify","error","resMessage","toString","width"],"sources":["D:/UI-Workspace/google-map-react-app/src/components/pages/ForgetPassword.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as Yup from 'yup';\r\nimport AuthService from '../../services/auth.service';\r\n\r\nfunction ForgetPassword() {\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [successful, setSuccessful] = useState(false);\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    email: Yup.string()\r\n      .required('Email is required')\r\n      .email('Email is invalid'),\r\n  });\r\n    const {\r\n      register,\r\n      handleSubmit,\r\n      formState: { errors }\r\n    } = useForm({\r\n      resolver: yupResolver(validationSchema)\r\n    });   \r\n\r\n      const handleForgetPassword = data =>{\r\n         setMessage(\"\");\r\n         setLoading(true);\r\n        AuthService.fogetPassword(data.email).then(response => {\r\n          console.log(JSON.stringify(data, null, 2));\r\n          setMessage(\"We have sent a reset password link to your email. Please check.\");\r\n          setSuccessful(true);\r\n          setLoading(false);\r\n          console.log(response.data);  \r\n      },\r\n      (error) => {\r\n        const resMessage =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString();\r\n        setMessage(resMessage);\r\n        setSuccessful(false);\r\n        setLoading(false);\r\n      }\r\n        );\r\n    }\r\n  return (\r\n    <div className=\"container\" style={{width: '40rem'}}>\r\n\t\t\t<div className=\"card\">\r\n\t\t\t\t  <div className=\"card-header alert-danger text-center h3\">\r\n\t\t\t\t  <h2>Forgot Password</h2>\r\n\t\t\t\t  </div>\r\n                  <form onSubmit={handleSubmit(handleForgetPassword)}>\r\n                    <div className=\"card-body\">\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"email\" className='col-form-label font-weight-bold'>Email address: </label>\r\n                                <input \r\n                                type=\"email\" \r\n                                name='email' \r\n                                id=\"email\"\r\n                                aria-describedby=\"email\" \r\n                                placeholder=\"Enter your email address\" \r\n                                autoFocus\r\n                                {...register('email')}\r\n                                className={`form-control ${errors.email ? 'is-invalid' : ''}`}\r\n                                />\r\n                                <div className=\"invalid-feedback\">{errors.email?.message}</div>\r\n                                <small id=\"emailHelp\" className=\"form-text text-muted\">We will be sending a reset password link to your email.</small>                               \r\n                            </div>\r\n                            \r\n                            <div className=\"form-group\">\r\n                            <button className=\"btn btn-primary btn-block\" disabled={loading}>\r\n                                {loading && (\r\n                                    <span className=\"spinner-border spinner-border-sm\"></span>\r\n                                )}\r\n                                <span> Send</span>\r\n                            </button>\r\n                            </div>\r\n                            {message && (\r\n                                <div className=\"form-group\">\r\n                                <div\r\n                                    className={ successful ? \"alert alert-success\" : \"alert alert-danger\" }\r\n                                      role=\"alert\"\r\n                                    >\r\n                                    {message}\r\n                                </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </form>\r\n            </div>\r\n    </div>\r\n  )\r\n}\r\nexport default ForgetPassword"],"mappings":"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"},"metadata":{},"sourceType":"module"}